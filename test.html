<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-title" content="">
    <meta name="apple-mobile-web-app-capable" content="yes">
 	  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
 	  <meta name="format-detection" content="telephone=no, address=no">
    <title>session测试</title>
    <style type="text/css">
      .addBorder{  
    border:1px solid #ccc;  
}  
  
#imgDiv{  
    width:100px;  
    height:100px;  
}  
  
#imgContent{  
    width: 100%;  
    height:100%;  
}  
    </style>
  </head>
  <body>
  
    <input type="file" class="addBorder" id="btn">  
    <br/>  
    <button type="button" onclick="loadImg()">获取图片</button>  
    <p>我增加了一个修改</p>
    <p>我又增加了一个修改</p>

  
<div class="addBorder" id="imgDiv">  
    <img id="imgContent">  
</div>  
    <script type="text/javascript">
    function init_list_imgs(){
         if(!(window.FileReader && window.File && window.FileList && window.Blob)){
              alert('您的浏览器不支持fileReader');
              return false;
          } else {
            alert('支持')
          }
    }
    init_list_imgs()
    function loadImg(){  
    //获取文件  
    var file = document.getElementById("btn").files[0]; 
    console.log(file) 
  
    //创建读取文件的对象  
    var reader = new FileReader();  

    var formdata = new FormData();

    formdata.append("file", file)
    console.log(formdata)
  
    //创建文件读取相关的变量  
    var imgFile;  
  
    //为文件读取成功设置事件  
    reader.onload=function(e) {  
        alert('文件读取完成');  
        imgFile = e.target.result;  
        console.log(e);  
        document.getElementById("imgContent").src = imgFile; 
    };  
  
    //正式读取文件  
    reader.readAsDataURL(file);  
}  

	  </script>

  </body>
</html>
